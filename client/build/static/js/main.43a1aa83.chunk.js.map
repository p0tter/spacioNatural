{"version":3,"sources":["components/Message.js","components/Progress.js","components/FileUpload.js","App.js","index.js"],"names":["Message","msg","className","role","type","data-dismiss","aria-label","aria-hidden","Progress","percentage","aria-valuenow","aria-valuemin","aria-valuemax","style","width","FileUpload","useState","file","setFile","fileName","setFileName","message","setMessage","uploadPercentage","setUploadPercentage","onSubmit","e","a","preventDefault","formData","FormData","i","length","append","axios","post","headers","onUploadProgress","ProgressEvent","parseInt","Math","round","loaded","total","setTimeout","then","res","data","response","status","name","id","multiple","onChange","target","files","htmlFor","value","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qOAkBeA,EAfC,SAAC,GAAW,IAAVC,EAAS,EAATA,IACd,OACI,yBAAKC,UAAU,+CAA+CC,KAAK,SAC9DF,EACD,4BAAQG,KAAK,SAASF,UAAU,QAAQG,eAAa,QAAQC,aAAW,SACpE,0BAAMC,cAAY,QAAlB,WCSDC,EAdE,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WACf,OACI,yBAAKP,UAAU,YACX,yBAAKA,UAAU,0DAA0DC,KAAK,cAAcO,gBAAc,KAAKC,gBAAc,IAAIC,gBAAc,MAC/IC,MAAO,CAACC,MAAM,GAAD,OAAIL,EAAJ,OAAqBA,EADlC,O,iBCmFGM,EApFW,WAAO,IAAD,EACNC,mBAAS,MADH,mBACtBC,EADsB,KACjBC,EADiB,OAEEF,mBAAS,yBAFX,mBAEtBG,EAFsB,KAEbC,EAFa,OAGCJ,mBAAS,IAHV,mBAGtBK,EAHsB,KAGbC,EAHa,OAImBN,mBAAS,GAJ5B,mBAItBO,EAJsB,KAIJC,EAJI,KActBC,EAAQ,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,yDAEbD,EAAEE,iBACIC,EAAW,IAAIC,SACjBb,EAJS,gBAKTK,EAAW,4BALF,uBAST,IAASS,EAAI,EAAGA,EAAEd,EAAKe,OAAQD,IAC3BF,EAASI,OAAT,eAAwBF,GAAId,EAAKc,IAV5B,0BAcCG,IAAMC,KAAK,+BAA+BN,EAAS,CACrDO,QAAQ,CACJ,eAAe,uBAInBC,iBAAkB,SAAAC,GACdd,EAAoBe,SAASC,KAAKC,MAA6B,IAAtBH,EAAcI,OAAeJ,EAAcK,SACpFC,YAAW,kBAAIpB,EAAoB,KAAG,QAG7CqB,MAAK,SAAAC,GACFxB,EAAWwB,EAAIC,KAAK9C,QA1BnB,0DA6BuB,MAAxB,KAAI+C,SAASC,OACb3B,EAAW,uCAEiB,MAAxB,KAAI0B,SAASC,QAGW,MAAxB,KAAID,SAASC,QAGW,MAAxB,KAAID,SAASC,QAGW,MAAxB,KAAID,SAASC,QAGW,MAAxB,KAAID,SAASC,OAXjB3B,EAAW,KAAI0B,SAASD,KAAK9C,KAe7BqB,EAAW,uCAhDV,0DAAH,sDAqDd,OACI,kBAAC,WAAD,KACKD,EAAU,kBAAC,EAAD,CAASpB,IAAKoB,IAAa,KACtC,0BAAMI,SAAUA,GACZ,yBAAKvB,UAAU,oBACX,2BAAOE,KAAK,OAAO8C,KAAK,aAAahD,UAAU,oBAAoBiD,GAAG,aAAaC,UAAQ,EAAEC,SAjE5F,SAAA3B,GAGbR,EAAQQ,EAAE4B,OAAOC,OACjBnC,EAAY,qBAAD,OAAsBM,EAAE4B,OAAOC,MAAMvB,YA8DpC,2BAAO9B,UAAU,oBAAoBsD,QAAQ,cACxCrC,IAGT,kBAAC,EAAD,CAAUV,WAAYc,IACtB,2BAAOnB,KAAK,SAASqD,MAAM,UAAUvD,UAAU,sCCpEhDwD,G,MAXH,kBACR,yBAAKxD,UAAU,kBACb,wBAAIA,UAAW,8BACb,uBAAGA,UAAU,iBADf,sBAIA,kBAAC,EAAD,SCJNyD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.43a1aa83.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Message = ({msg}) => {\r\n    return (\r\n        <div className=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n            {msg}\r\n            <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nMessage.propTypes = {\r\n    msg:PropTypes.string.isRequired\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Progress = ({percentage}) => {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\" \r\n            style={{width:`${percentage}%`}}>{percentage}%</div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nProgress.propTypes = {\r\n    percentage: PropTypes.number.isRequired\r\n}\r\n\r\nexport default Progress\r\n","import React, {Fragment, useState} from 'react';\r\nimport Message from './Message';\r\nimport Progress from './Progress';\r\nimport axios from 'axios';\r\n\r\nexport const FileUpload = () => {\r\n    const[file,setFile] = useState(null);\r\n    const[fileName,setFileName] = useState('Seleccione el Archivo');        \r\n    const[message, setMessage] = useState('');\r\n    const[uploadPercentage, setUploadPercentage] = useState(0);\r\n    \r\n\r\n    const onChange = e =>{     \r\n        //setFile(e.target.files[0]);            \r\n        //setFile1Name(e.target.files[0].name);\r\n        setFile(e.target.files);\r\n        setFileName(`Archivos Cargados ${e.target.files.length}`);\r\n    }\r\n\r\n    const onSubmit = async e=>{\r\n         \r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        if(!file){\r\n            setMessage('No hay Archivos Cargados');\r\n            //formData.append('file',file);\r\n        }\r\n        else{\r\n            for (let i = 0; i<file.length; i++){\r\n                formData.append(`file_${i}`,file[i]);\r\n            }\r\n            //console.log(formData);\r\n            try{                \r\n                await axios.post('http://localhost:5000/upload',formData,{\r\n                    headers:{\r\n                        'Content-Type':'multipart/form-data'\r\n                        //'encType':'multipart/form-data'\r\n                        \r\n                    },\r\n                    onUploadProgress: ProgressEvent =>{\r\n                        setUploadPercentage(parseInt(Math.round((ProgressEvent.loaded *100) / ProgressEvent.total)));\r\n                        setTimeout(()=>setUploadPercentage(0),10000);\r\n                    }            \r\n                })\r\n                .then(res=>{\r\n                    setMessage(res.data.msg);   \r\n                });            \r\n            }catch(err){\r\n                if (err.response.status === 500){\r\n                    setMessage('There was a problem with the server');\r\n                }\r\n                else if(err.response.status === 400){\r\n                    setMessage(err.response.data.msg);\r\n                }\r\n                else if(err.response.status === 404){\r\n                    setMessage(err.response.data.msg);\r\n                }\r\n                else if(err.response.status === 401){\r\n                    setMessage(err.response.data.msg);\r\n                }\r\n                else if(err.response.status === 406){\r\n                    setMessage(err.response.data.msg);\r\n                }\r\n                else if(err.response.status === 412){\r\n                    setMessage(err.response.data.msg);\r\n                }\r\n                else{\r\n                    setMessage('There was a problem with the server');\r\n                }  \r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <Fragment>\r\n            {message ? <Message msg={message}/> : null}\r\n            <form onSubmit={onSubmit} >\r\n                <div className=\"custom-file mb-4\">\r\n                    <input type=\"file\" name=\"sampleFile\" className=\"custom-file-input\" id=\"customFile\" multiple  onChange={onChange} />\r\n                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n                        {fileName}\r\n                    </label>\r\n                </div>\r\n                <Progress percentage={uploadPercentage}/>\r\n                <input type=\"submit\" value=\"Aceptar\" className=\"btn btn-primary btn-block mt-4\"></input>\r\n            </form>            \r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default FileUpload","import React from 'react';\nimport FileUpload from './components/FileUpload';\nimport './App.css';\n\nconst App = ()=>(\n    <div className=\"container mt-4\">\n      <h4 className= \"display-4 text-center mb-4\">\n        <i className=\"fab fa-react\">\n        </i> Carga de Archivos\n      </h4> \n      <FileUpload />\n    </div>\n  );\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}